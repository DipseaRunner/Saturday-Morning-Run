<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"> 
<HTML>
<!-- saved from url=(0014)about:internet -->
<HEAD>
<!-- saved from url=(0013)about:internet -->
<TITLE>1217-121555-01: 1217-121555-01</TITLE>
<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<meta name="Keywords" content="photo album,gallery,photo gallery,digital,photo,gallery,online">
<link href="../res/styles.css" rel="stylesheet">
<script language="javascript" type="text/javascript">
<!--keyboard controls-->
function keypress(e){
  if(!e) var e=window.event;
  if(e.keyCode) keyCode=e.keyCode; else if(e.which) keyCode=e.which;
  switch(keyCode) {
	case 8: window.location="../index2.html"; return false; break;
	case 63235: case 39: window.location="1217-121657-02.html"; return false; break;
	case 63234: case 37: window.location="1217-121311-01.html"; return false; break;
	case 63273: case 36: window.location="1217-110634-01.html"; return false; break;
	case 63275: case 35: window.location="1217-231435-01.html"; return false; break;
  }
  return true;
}
function keypresslistener() {
if(document.all) { document.onkeydown = keypress; }
else if(document.layers || document.getElementById) { document.onkeypress = keypress; }
}
idx0 = new Image(31,31); idx0.src = "../res/idx.gif";
idx1 = new Image(31,31); idx1.src = "../res/idx1.gif";
next0 = new Image(31,31);next0.src = "../res/next.gif";
next1 = new Image(31,31);next1.src = "../res/next1.gif";
prev0 = new Image(31,31);prev0.src = "../res/prev.gif";
prev1 = new Image(31,31);prev1.src = "../res/prev1.gif";
</script>
<style type="text/css">
  body { background-image: url(../res/bg.gif); background-repeat: repeat-x; }
</style>
<script type="text/javascript">
	// TOUCH-EVENTS SINGLE-FINGER SWIPE-SENSING JAVASCRIPT
	// Courtesy of PADILICIOUS.COM and MACOSXAUTOMATION.COM
	
	// this script can be used with one or more page elements to perform actions based on them being swiped with a single finger

	var triggerElementID = null; // this variable is used to identity the triggering element
	var fingerCount = 0;
	var startX = 0;
	var startY = 0;
	var curX = 0;
	var curY = 0;
	var deltaX = 0;
	var deltaY = 0;
	var horzDiff = 0;
	var vertDiff = 0;
	var minLength = 72; // the shortest distance the user may swipe
	var swipeLength = 0;
	var swipeAngle = null;
	var swipeDirection = null;
	
	// The 4 Touch Event Handlers
	
	// NOTE: the touchStart handler should also receive the ID of the triggering element
	// make sure its ID is passed in the event call placed in the element declaration, like:
	// <div id="picture-frame" ontouchstart="touchStart(event,'picture-frame');"  ontouchend="touchEnd(event);" ontouchmove="touchMove(event);" ontouchcancel="touchCancel(event);">

	function touchStart(event,passedName) {
		// disable the standard ability to select the touched object
//		event.preventDefault();
		// get the total number of fingers touching the screen
		fingerCount = event.touches.length;
		// since we're looking for a swipe (single finger) and not a gesture (multiple fingers),
		// check that only one finger was used
		if ( fingerCount <= 1 ) {
			// get the coordinates of the touch
			startX = event.touches[0].pageX;
			startY = event.touches[0].pageY;
			// store the triggering element ID
			triggerElementID = passedName;
		} else {
			// more than one finger touched so cancel
			touchCancel(event);
		}
	}

	function touchMove(event) {
//event.preventDefault();
		if ( event.touches.length >= 1 && curX == 0) {
			curX = event.touches[0].pageX;
			curY = event.touches[0].pageY;
		}
		else {
			touchCancel(event);
		}
	}
	
	function touchEnd(event) {
		// check to see if more than one finger was used and that there is an ending coordinate
		if ( fingerCount <= 1 && curX != 0 ) {
//		if ( fingerCount <= 1 ) {
			// use the Distance Formula to determine the length of the swipe
			swipeLength = Math.round(Math.sqrt(Math.pow(curX - startX,2) + Math.pow(curY - startY,2)));
			// if the user swiped more than the minimum length, perform the appropriate action
			if ( swipeLength >= minLength ) {
event.preventDefault();
//window.location="1217-121657-02.html";
				caluculateAngle();
				determineSwipeDirection();
//				processingRoutine();
				touchCancel(event); // reset the variables
			} else {
				touchCancel(event);
			}	
		} else {
			touchCancel(event);
		}
	}

	function touchCancel(event) {
		// reset the variables back to default values
		fingerCount = 0;
		startX = 0;
		startY = 0;
		curX = 0;
		curY = 0;
		deltaX = 0;
		deltaY = 0;
		horzDiff = 0;
		vertDiff = 0;
		swipeLength = 0;
		swipeAngle = null;
		swipeDirection = null;
		triggerElementID = null;
	}
	
	function caluculateAngle() {
		var X = startX-curX;
		var Y = curY-startY;
		var Z = Math.round(Math.sqrt(Math.pow(X,2)+Math.pow(Y,2))); //the distance - rounded - in pixels
		var r = Math.atan2(Y,X); //angle in radians (Cartesian system)
		swipeAngle = Math.round(r*180/Math.PI); //angle in degrees
		if ( swipeAngle < 0 ) { swipeAngle =  360 - Math.abs(swipeAngle); }
	}
	
	function determineSwipeDirection() {
		if ( (swipeAngle <= 45) && (swipeAngle >= 0) ) {
			swipeDirection = 'left';
		} else if ( (swipeAngle <= 360) && (swipeAngle >= 315) ) {
			swipeDirection = 'left';
		} else if ( (swipeAngle >= 135) && (swipeAngle <= 225) ) {
			swipeDirection = 'right';
		} else if ( (swipeAngle > 45) && (swipeAngle < 135) ) {
			swipeDirection = 'down';
		} else {
			swipeDirection = 'up';
		}
	}
	
	function processingRoutine() {
		var swipedElement = document.getElementById(triggerElementID);
		if ( swipeDirection == 'left' ) {
			window.location="1217-121311-01.html";
		} else if ( swipeDirection == 'right' ) {
			window.location="1217-121657-02.html";
		} else if ( swipeDirection == 'up' ) {
			window.location="1217-110634-01.html";
		} else if ( swipeDirection == 'down' ) {
			window.location="1217-231435-01.html";
		}
	}

</script>
<link rel="alternate" href="../album.rss" type="application/rss+xml">
</HEAD>

<BODY ID="slide" ontouchstart=touchStart(event,'slide');" ontouchend="touchEnd(event);" ontouchmove="touchMove(event);" ontouchcancel="touchCancel(event);" onload=" document.addEventListener('keydown',keypress,false); keypresslistener();">
<CENTER>
<TABLE style="height:54px;" cellspacing="0" cellpadding="0" border="0">
<TR><TD valign="middle">
<!-- Header with Multilevel index links for slide pages -->
<TABLE cellspacing="0" cellpadding="0" border="0">
<TR>
<TD style="width:31px;"><a href="../index2.html" onmouseover="document.idx.src=idx1.src" onmouseout="document.idx.src=idx0.src"><img src="../res/idx.gif" width="31" height="31" border="0" title="Index page" name="idx" alt=""></a></TD>
<TD style="width:20px;"><IMG SRC="../res/hdr_left.gif" width="20" height="31" border="0" alt=""></TD>
<TD align="left" valign="middle" style="background:url(../res/hdr_mid.gif);" class="osxtitle" nowrap="nowrap">
<a href="../index2.html">Christmas 2011</a> 
</TD>
<TD style="width:20px;"><IMG SRC="../res/hdr_right.gif" width="20" height="31" border="0" alt=""></TD>
<TD style="width:31px;">
  <a href="1217-121311-01.html" onmouseover="document.prev.src=prev1.src" onmouseout="document.prev.src=prev0.src"><img src="../res/prev.gif" width="31" height="31" border="0" title="Previous image" name="prev" alt=""></a></TD>
<TD style="width:31px;">
  <a href="1217-121657-02.html" onmouseover="document.next.src=next1.src" onmouseout="document.next.src=next0.src"><img src="../res/next.gif" width="31" height="31" border="0" title="Next image" name="next" alt=""></a></TD>
</TR></TABLE>
</TD></TR></TABLE>
<BR>
<!-- Image, optionally with link to original -->
<TABLE class="infotable" cellspacing="0" cellpadding="0"><TR><TD><IMG SRC="1217-121555-01.JPG" WIDTH="701" HEIGHT="600" usemap="#imagemap" border="0" alt=""></TD>
</TR></TABLE>
<BR>
<!-- Comment and image data -->
<TABLE style="width:$maxImageWidthpx;" class="infotable" cellspacing="0" cellpadding="2">
<TR><TD style="width:720px;" align="center" class="smalltxt"></TD>
</TR>
</TABLE>
<BR>
<!-- EXIF data and copyright info -->
<script language="javascript" type="text/javascript">
next_image=new Image(); next_image.src="1217-121657-02.JPG";
</script>
<script language="javascript" type="text/javascript">
previous_image=new Image(); previous_image.src="1217-121311-01.JPG";
</script>
</CENTER>
<div id="jalbumwidgetcontainer"></div>
<script type="text/javascript" charset="utf-8"><!--//--><![CDATA[//><!--
_jaSkin = "Saturday Run";
_jaStyle = "Black.css";
_jaVersion = "9.6.1";
_jaGeneratorType = "desktop";
_jaLanguage = "en";
_jaPageType = "slide";
_jaRootPath = "..";
var script = document.createElement("script");
script.type = "text/javascript";
script.src = "http://jalbum.net/widgetapi/load.js";
document.getElementById("jalbumwidgetcontainer").appendChild(script);
//--><!]]></script>

</BODY>
</HTML>
